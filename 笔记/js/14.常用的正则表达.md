## 常用正则表达式

常用正则表达式库：https://c.runoob.com/front-end/854/

车牌号规则：

```js
[\u4e00-\u9fa5][A-Z]·[0-9A-Z]{5}
第一位：汉字
第二位：1位大写字母
第三位：字符·
后五位：每一位，都是一位大写字母或数字
```

短信验证码：

```js
\d{4,6}
```

定义完整手机号规则：

```js
((\+86|0086)\s+)?1[3-9]\d{9})
```

定义完整身份证号规则：

```js
\d{15}(\d\d[0-9x])?
```

邮箱正则表达式规则：

```js
^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$
```





## 正则介绍

正则表达式：（Regular Expression）是用于匹配字符串中字符组合的模式。在JS中，正则表达式也是对象。

特点：通常用来查找、替换那些符合正则表达式的文本，许多语言都支持正则表达式。

使用场景：（JS）

- 表单验证
- 用户名验证
- 过滤敏感词
- 提取目标内容

工具：

- 网站：https://regexper.com/	，正则逻辑图生成

## 元字符

### 普通字符

语法：敏感词

示例：

```js
//str.indexOf()		查找固定敏感词
string.indexOf('我草')
```

### 字符集

语法：`[]`

作用：匹配	[]	中任意一个字符

示例：

```js
//表示3-9的数字
[3-9]
//表示字符中的任意一个
[槽操草艹]
```

### 字符集简写

| 简写              | 作用               | 数量                     |
| ----------------- | ------------------ | ------------------------ |
| [0-9]             | 匹配一位数字       | 共10个                   |
| [a-z]             | 匹配一位小写字母   | 共26个                   |
| [A-Z]             | 匹配一位大写字母   | 共26个                   |
| [A-Za-z]          | 匹配一位字母       | 共52个                   |
| [0-9A-Za-z]       | 匹配一位字母或数字 | 共62个                   |
| `[\u4e00-\u9fa5]` | 匹配一位汉字       | 19968~40869<br>共20902个 |

### 预定义字符集

~：正则表达式语法为四种最常用的字符集定义了最简化写法，称为预定义字符集。

| 简写 | 作用                                                      |
| ---- | --------------------------------------------------------- |
| \d   | digit，匹配0-9的数字，[0-9]                               |
| \D   | 匹配0-9以外的数组，\[^0-9]                                |
| \w   | [0-9A-Za-z-_]                                             |
| \W   | \[^0-9A-Za-z-_]                                           |
| \s   | space，匹配空格（空格、tab、空白、换行等），\[\t\r\n\v\f] |
| \S   | 匹配非空格字符，\[^\t\r\n\v\f]                            |
| `.`  | 匹配所有文字                                              |

## 数量词

### 明确数量边界

| 语法    | 意义                                          |
| ------- | --------------------------------------------- |
| `{n}`   | 表示字符集`必须`重复n次，不能多也不能少       |
| `{n,m}` | 表示字符集`至少`重复n次，`最多`重复m次        |
| `{n,}`  | 表示字符集匹配的内容`至少`重复n次，`多了不限` |

图理解

### 无明确数量边界

| 语法 | 意义       |
| ---- | ---------- |
| `*`  | 随便多少个 |
| `+`  | 至少有1个  |
| `?`  | 至多有1个  |

图解：

------

## 选择 & 分组

------

### 选择

选择：在多个子规则中选其中一个匹配。

语法：`子规则1|子规则2`

读作：满足规则1`或`满足规则2

注意："|"选择符只分左右，不考虑单个字符。

```js
//正则在分辨时就是：草 cao	（不会按单个字母分）
草|cao 
```

特殊：选择不遵守贪婪模式

​	说明：| 不遵守贪婪模式，而是采用类似短路逻辑的模式。

​	理解：如果前一个规则已经匹配，则后一个规则即使满足，也不再匹配！（即使后面的比前面的长）

​	示例：

```js
我|w|wo
//敏感词"wo"，（不遵守贪婪模式）只会匹配w
//解决
我|wo?
//意思是：可匹配"w" ; "wo"
```

​	解决：见上面

要求：`不到万不得已，不用 |`

------

### 分组

分组：将正则规则分组；

语法：其他规则(多个子规则)

理解：算数中的*运算

示例：

```js
我(草|cao)
//匹配2种结果：我草；我cao
```

------

## 指定匹配位置

特殊位置：只希望匹配特殊位置上的敏感词

特殊位置：

- 字开头
- 结尾
- 单词边界

语法：

| 规则 | 意义     |
| ---- | -------- |
| `^`  | 开头     |
| `$`  | 结尾     |
| `\b` | 单词边界 |

注意：

- 以上的规则都匹配一个`位置`
- `位置&边界`：是一个`0宽的空间，没有任何东西`
- ^写在[]内表示`取反`

常用：

```js
//匹配任意一组连续的空字符
\s+

//匹配开头的空字符
^\s+

//匹配结尾的空字符（注意：这里$要写在结尾处）
\s+$

//同时匹配开头和结尾的空字符
//注意：|在本次匹配中，如果前一个条件满足则后一个条件不执行。但是这并不能阻止整个正则继续向后续字符串再次匹配；单次匹配中的短路，并不影响正则去找到多个敏感词
^\s|\s$
```



## 修饰符

i：ignore的缩写，正则匹配时不区分字母大小写；

g：global的缩写，匹配所有满足正则表达式的结果；

------

## 特殊

### 贪婪模式

正则表达式，大部分情况下，默认采用`贪婪模式`匹配。即：`总是尽量匹配最长的那个敏感词`。

------















