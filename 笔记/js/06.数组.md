## 数组简介

【数组】：数组（Array）是一种可以`按顺序保存数据`的`数据类型`。

【作用】：（一个变量中）保存多个数据；

> 术语

- 元素：js中，元素是数组中保存的每个数据，叫~。

- 下标：（索引）数组中的数据的编号；
- 长度：数组中数据的个数，通过数组的`length`属性获得；

------

## 创建数组/[],new Array

> 方法①：数组字面量

【语法】：

```js
let 数组名 = [数据1, 数据2, ..., 数据n]2    
数组              数组字面量3
//语法规范：逗号后，敲一个空格（经验）
let names = ['小洁', '小兰', '小惠', '小丽']
```



## 数组使用

> 取值/访问

【3种说法】：获取数组数据，有多重说法：

- 取值；
- 查询数组数据；
- 访问数组数据；

```js
数组名[下标值]
arr[0]
```

【特点】：

- 数组按顺序保存，所以每个数据都有自己的编号，从0开始；（计算机编号从0开始）
- 数组中，数据的编号也叫索引/下标；
- 数组可以存储任何类型的数据；

> 长度/length

【语法】：

```js
arr.length//5
```

## 遍历数组/ for

【遍历数组】：利用循环获取数组的每个元素值。

【说明】：工作中，for循环最大的价值——循环数组。

【语法】：

```js
    let arr = ['a', 'b', 'c', 'd', 'e']
    console.log(arr) //只能整体取数组
    // 使用for循环获取数组中的每个元素
    for (let i = 0; i < arr.length; i++) {
      document.write(`<p>${arr[i]}</p>`)
    }
```

【说明】：

- 常用`arr[i]`获取元素；
- 常用`i<arr.length`作为遍历结束条件



## 操作数组/APi

【操作数组】：数组本质是数据集合，操作数据无非是增、删、改、查语法。

【图】：数组api的增删改查归纳。

【api】：

| 名称                      | 作用                            | 参数                                       | 返回值/结果                        |
| ------------------------- | ------------------------------- | ------------------------------------------ | ---------------------------------- |
| arr[下标]                 | 获取/查看/访问                  | 下标：数组下标值                           | 返回值：对应数组的元素             |
| arr[下标]=                | 给元素重新赋值                  | /                                          | 结果：数组中元素被修改             |
| arr.`push(val)`           | 将1个或多个元素添加到数组的末尾 | val：添加的元素（多个元素用`,`隔开）       | 返回：`返回` 添加后数组`新长度`；  |
| .arr.unshift(val)         | 将1个或多个元素添加到素组的开头 | ~（同上）                                  | 返回值：`返回`添加后数组`新长度`； |
| arr.pop(val)              | 删除最后一个元素                | /                                          | 返回值：删除的元素；               |
| arr.shift(val)            | 删除第一个元素                  | /                                          | 返回值：删除的元素；               |
| arr.`splice(start,count)` | 从指定位置开始，按长度删除      | start：数组开始下标；<br>count：删除的长度 | 返回值：删除的元素；               |



【总结】：

- 添加返回：返回新数组的长度；

- 删除返回：返回的都是删除的元素；

【应用】：在什么场景下引用api

- push：用户注册，商品添加等；
- unshift：最新时间的动态，在最顶显示；
- splice：抽奖活动，将已中奖用户从抽取池中删除;

【算法】：算法-->找规律-->用代码实现

​	示例：冒泡排序（只是一种算法，性能比较低，开发一般不用）

【示例】：



## 关联数组



# 数组api - ES6

## indexOf(elem, start)

作用：在数组中查找一个元素的位置，和字符串的indexOf完全一样

参数：

- elem：元素内容
- start：开始下标

返回：

- 找到：返回下标；
- 未找到：返回-1

## 数组判断

### every(callback)

语法：arr.every(function(elem, i, arr) { return 判断条件})

作用：判断是否所有元素都符合条件

原理：

- every自带for循环，会自动遍历arr中每个元素。每遍历一个元素，就自动调用一次回调函数function。
- 每次调用function时，自动传入当前正在遍历的元素值和下标位置，以及当前数组对象，`分别给elem,i,arr`。（不管用不用）
- 每次调用function，都会用函数内的条件检查当前元素是否符合要求。
- 只有当前元素符合要求，才继续遍历下一个元素。
- 只要碰上一个不符合要求的元素，就立刻退出遍历，退出函数，并返回false。意思是不是所有元素都满足要求。
- 如果遍历结束，都还没有退出，说明数组中的所有元素都符合要求，那every就返回true。

图解：

![](C:/Users/hd/Desktop/notes/notes/img/js/every.png)

参数：

- elem：元素
- i：下标
- arr：数组

注意：定义了3个形参，最少传入一个实参



### some()

作用：判断数组中是否包含符合要求的元素

语法：arr.some(function(value,i,arr){ return 判断条件 })

图解：

![](C:/Users/hd/Desktop/notes/notes/img/js/some.png)

注意：定义了3个形参，最少传入一个实参





------

## 数组遍历

### forEach()

语法：`let newArr = oldArr.forEach(function(elem, i, arr) {})`

作用：forEach中自动遍历arr中每个元素，每遍历一个元素，就在这个元素上自动调用一次回调函数function。自动传入当前元素值给value，当前位置给i，当前数组对象给arr。

图解：

![](C:/Users/hd/Desktop/notes/notes/img/js/forEach.png)

注意：定义了3个形参，最少传入一个实参

缺点：`返回修改后的原数组`

### map()

语法：`let newArr = oldArr.map(function(value, i, arr) {return 放入新数组的元素})`

特点：返回新数组

原理：（自动）

1. map内先自动创建一个新数组；
2. 带着回调函数一起遍历原数组，自动将回调函数在每个元素上执行一次，将回调函数return的结果，放到新数组中相同的位置上。
3. 遍历结束，返回新数组

![](C:/Users/hd/Desktop/notes/notes/img/js/map.png)

说明：react中使用极其多

### 对比

- 仅单纯代替for循环遍历数组，首选forEach。
- 除非想保护原数组，返回新数组时，采用map。

------

## 过滤 & 汇总

### filter()

filter：过滤，复制出原数组中符合条件的元素组成新数组返回。原数组保持不变。

语法：

```js
let 新数组 = 原数组.filter(function(value,i,arr){
  return 判断条件；
})
```

原理：

1. 先自动创建一个新数组；
2. 自动遍历原数组中的每个元素，每遍历一个元素，就自动调用一次回调函数。如果当前元素经过回调函数验证，返回true，则加入新数组中。如果当前元素经过回调函数验证，返回false，则不加入新数组。
3. 遍历结束，返回新数组。

图解：

![](C:/Users/hd/Desktop/notes/notes/img/js/filter.png)



reduce()

reduce：汇总，对数组中的元素内容进行统计，得出最终结论

语法：

```js
let sum = arr.reduce(
function(prev,elem,i,arr){
//保存截止到当前元素的临时汇总值
return prev + elem
})
```

参数：

- prev：初始值

图解：

![](C:/Users/hd/Desktop/notes/notes/img/js/reduce.png)

